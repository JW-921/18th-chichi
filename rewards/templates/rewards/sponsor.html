{% extends "shared/layout.html" %} {% block "content" %}

<div class="container mx-auto px-4 py-8">
  <h1 class="text-4xl font-title font-bold text-center mb-12">自由贊助專案</h1>

  <div class="bg-white shadow-md rounded-lg overflow-hidden max-w-[360px] mx-auto">
    <div class="p-6">
      <form method="POST" action="{% url 'projects:free_sponsor' project.id %}">
        {% csrf_token %}
        <div class="mb-6">
          <label for="amount" class="block text-lg font-semibold text-gray-700 mb-2">自由贊助金額：</label>
          <input
            type="number"
            name="amount"
            id="amount"
            min="1"
            required
            class="w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300 focus:border-blue-500"
            placeholder="請輸入金額"
          />
        </div>
        <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-300">送出贊助</button>
      </form>
    </div>
  </div>
</div>

<body class="bg-neutral-50">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-title font-bold text-center mb-12">贊助選擇</h1>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {% for reward in rewards %}
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="p-6">
          <h2 class="text-xl font-semibold mb-4">{{ reward.title }}</h2>
          <p class="text-neutral-500 text-lg mb-3">金額：{{ reward.price }} 元</p>
          {% if reward.quantity > 0 %}
          <p class="text-blue-700 text-xs font-bold">剩餘：{{ reward.quantity }}</p>
          {% else %}
          <p class="text-red-600 text-xs font-bold">已售罄</p>
          {% endif %}
          <form method="POST" action="{% url 'projects:reward_sponsor' project.id %}">
            {% csrf_token %}
            <input type="hidden" name="reward" value="{{ reward.id }}" />
            <button type="submit" class="mt-4 w-full bg-primary text-white py-3 px-4 rounded-md hover:bg-blue-600 transition duration-300">贊助此方案</button>
          </form>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</body>

{% endblock %}
