{% extends "shared/layout.html" %}  {% load static %}
{% block "content" %}

<div class="min-h-screen bg-white relative z-0">
  <!-- Hero Section -->
  <div
  class="relative h-[600px]"
  style="background: linear-gradient(to right, #1ea29e20, #1ea29e40)"
>
  <div class="container mx-auto px-4 h-full flex items-center">
    <div class="w-1/2 text-center">
      <h1 class="text-4xl font-bold mb-6 text-[#006F6B]">實現夢想的起點</h1>
      <p class="text-xl text-[#d78f32] mb-8 font-normal font-serif">
        在這裡，每個創意都能找到支持，每個夢想都值得被實現
      </p>
      <div class="space-x-4">
        <a
          href="{% url 'projects:new' %}"
          class="btn inline-flex items-center justify-center whitespace-nowrap h-16 text-[20px] px-10   rounded-t-lg shadow-md transition-all duration-200 relative"
          style="background-color: #1ea29e20; color: #006F6B; transition: all 0.3s ease;"
          onmouseover="this.style.backgroundColor='#006F6B'; this.style.color='white';"
          onmouseout="this.style.backgroundColor='#1ea29e20'; this.style.color='#006F6B';"
        >提案募資</a>
        <a
          href="{% url 'projects:index' %}"
          class="btn inline-flex items-center justify-center whitespace-nowrap h-16 text-[20px] px-10"
          style="background-color: #1ea29e20; color: #006F6B; transition: all 0.3s ease;"
          onmouseover="this.style.backgroundColor='#006F6B'; this.style.color='white';"
          onmouseout="this.style.backgroundColor='#1ea29e20'; this.style.color='#006F6B';"
        >瀏覽專案</a>
      </div>
    </div>
    <div class="w-1/2 flex justify-center items-center">
      <img
        src="static/svg/S5_Puzzle.jpg"
        alt="puzzle"
        class="rounded-lg shadow-xl object-cover w-full h-[400px]"
      />
    </div>
  </div>
</div>



<!-- 其他現有的首頁內容 -->

<!-- 專案卡片區域 -->
<section class="py-12 bg-gray-50">
    <div class="container mx-auto px-4">
        <!-- 分類標籤 -->
        <div class="py-12 bg-white" x-data="{ activeTab: '全部' }">
            <div class="flex justify-center mb-12">
              <nav class="flex -space-x-4">
                <button @click="activeTab = '全部'" 
                        :class="{ 
                          'bg-[#1EA29E] text-white -translate-y-1': activeTab === '全部',
                          'bg-white text-[#1EA29E] hover:bg-[#1EA29E] hover:text-white translate-y-0': activeTab !== '全部'
                        }"
                        class="px-6 py-2 text-[20px] font-normal rounded-t-lg shadow-md transition-all duration-200 relative border-2 border-[#1EA29E]"
                        style="clip-path: polygon(0 0, 100% 0, 90% 100%, 10% 100%)"
                        >
                    全部
                </button>
                {% for category in categories %}
                <button @click="activeTab = '{{ category.title }}'" 
                        :class="{ 
                            'bg-[#1EA29E] text-white -translate-y-1': activeTab === '{{ category.title }}',
                            'bg-white text-[#1EA29E] hover:bg-[#1EA29E] hover:text-white translate-y-0': activeTab !== '{{ category.title }}'
                        }"
                        class="px-6 py-2 text-[20px] font-normal rounded-t-lg shadow-md transition-all duration-200 relative border-2 border-[#1EA29E]"
                >{{ category.title }}</button>
                {% endfor %}
              
              </nav>            
          </div>

            <!-- 專案卡片網格 -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 p-8">
              {% for project in projects %}
              <a href="{%url 'projects:public' project.slug %}"
                 class="block"
                 x-show="activeTab === '全部' || '{{ project.category }}' === activeTab"
                 x-cloak>
                  <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-200">
                      <div class="relative overflow-hidden">
                          {% if project.cover_image %}
                              <img src="{{ project.cover_image.url }}"
                                   alt="{{ project.title }}" 
                                   class="w-full h-48 object-cover transition-transform duration-200 hover:scale-105">
                          {% else %}
                              <img src="{% static 'images/default-project.jpg' %}" 
                                   alt="{{ project.title }}" 
                                   class="w-full h-48 object-cover transition-transform duration-200 hover:scale-105">
                          {% endif %}
                      </div>
                      <div class="p-4">
                          <span class="inline-block px-2 py-1 text-xs font-medium rounded-full mb-2 bg-[#1EA29E]/10 text-[#1EA29E]">
                              {{ project.category }}
                          </span>
                          <h3 class="font-semibold mb-2 line-clamp-1">{{ project.title }}</h3>
                          <p class="text-gray-600 text-sm mb-4 line-clamp-2">
                              {{ project.subtitle }}
                          </p>
                          <div class="space-y-2">
                              <!-- Progress Bar -->
                              {% widthratio project.raised_amount project.goal_amount 100 as percentage %}
                              <div class="w-full bg-gray-100 rounded-full h-2">
                                  <div class="h-2 rounded-full transition-all duration-700 bg-[#1EA29E]"
                                       style="width: {% if percentage > 100 %}100{% else %}{{ percentage }}{% endif %}%">
                                  </div>
                              </div>
                              <div class="flex justify-between text-sm">
                                  <span class="font-medium text-[#1EA29E]">NT$ {{ project.raised_amount|floatformat:0 }}</span>
                                  <span class="text-gray-500">目標 $ {{ project.goal_amount|floatformat:0 }}</span>
                              </div>
                              <div class="text-xs text-gray-500 text-right">
                                  剩餘 {{ project.remaining_days }} 天
                              </div>
                          </div>
                      </div>
                  </div>
              </a>
              {% endfor %}
          </div>
        </div>




        

      <div class="text-center pb-8">
        <a
        href="{% url 'projects:index' %}"
        class="inline-block px-8 py-3 rounded-lg text-white transition-all duration-200 hover:shadow-lg"
        style="background-color: #1EA29E"
        >
        查看更多專案
        </a>
    </div>
    </div>

</section>


  <!-- Call to Action Section -->
  <div class="py-20 bg-white">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold mb-6">開始你的募資計畫</h2>
      <p class="text-gray-600 mb-8 max-w-2xl mx-auto">
        無論是創新科技、文創藝術、或是社會公益，
        我們都歡迎有理想、有熱情的你加入。現在就開始你的集資之旅！
      </p>
      <div class="flex justify-center gap-6">
        <a
          href="{% url 'projects:new' %}"
          class="btn inline-flex items-center justify-center whitespace-nowrap h-12 px-8"
          style="background-color: #85cacc20; color: #85cacc; transition: all 0.3s ease;"
          onmouseover="this.style.backgroundColor='#85cacc'; this.style.color='white';"
          onmouseout="this.style.backgroundColor='#85cacc20'; this.style.color='#85cacc';"
        >
          立即提案
        </a>
        <a
          href="#"
          class="btn inline-flex items-center justify-center whitespace-nowrap h-12 px-8"
          style="background-color: #85cacc20; color: #85cacc; transition: all 0.3s ease;"
          onmouseover="this.style.backgroundColor='#85cacc'; this.style.color='white';"
          onmouseout="this.style.backgroundColor='#85cacc20'; this.style.color='#85cacc';"
        >
          了解更多
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
